<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-self-hosted/deployment/aws">

<!-- Mirrored from www.chatwoot.com/docs/self-hosted/deployment/aws by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 May 2022 12:27:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v0.0.0-4784">
<link rel="preconnect" href="https://www.google-analytics.com/">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-96794837-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="../../../../www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Chatwoot" href="../../opensearch.xml"><title data-rh="true">AWS Chatwoot deployment guide | Chatwoot</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.chatwoot.com/images/preview.png"><meta data-rh="true" name="twitter:image" content="https://www.chatwoot.com/images/preview.png"><meta data-rh="true" property="og:url" content="https://www.chatwoot.com/docs/self-hosted/deployment/aws"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AWS Chatwoot deployment guide | Chatwoot"><meta data-rh="true" name="description" content="The following is reference HA architecture guide for deploying Chatwoot on AWS. For a cloud native deployment, use our helm charts with AWS Elastic Kubernetes Service(EKS)."><meta data-rh="true" property="og:description" content="The following is reference HA architecture guide for deploying Chatwoot on AWS. For a cloud native deployment, use our helm charts with AWS Elastic Kubernetes Service(EKS)."><link data-rh="true" rel="icon" href="../../img/favicon.png"><link data-rh="true" rel="canonical" href="aws.html"><link data-rh="true" rel="alternate" href="aws.html" hreflang="en"><link data-rh="true" rel="alternate" href="aws.html" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://j9h34slmko-dsn.algolia.net/" crossorigin="anonymous"><link rel="stylesheet" href="../../assets/css/styles.26f12db6.css">
<link rel="preload" href="../../assets/js/runtime_main.4fc0849a.js" as="script">
<link rel="preload" href="../../assets/js/main.f0cac5f2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">⭐️ If you like Chatwoot, give it a star on <a href="https://github.com/chatwoot/chatwoot">GitHub</a> and follow us on <a href="https://twitter.com/chatwootapp">Twitter</a>!</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="../../../index.html" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="../../img/logo.png" alt="Chatwoot" class="themedImage_W2Cr themedImage--light_TfLj"><img src="../../img/logo-white.png" alt="Chatwoot" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../self-hosted.html">Self Hosted</a><a class="navbar__item navbar__link" href="../../product.html">User Guide</a><a class="navbar__item navbar__link" href="../../contributing-guide.html">Contributing Guide</a><a class="navbar__item navbar__link" href="../../handbook/about-chatwoot/history.html">Handbook</a><a href="../../../developers/api/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/chatwoot/chatwoot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_Vq7T"><aside class="theme-doc-sidebar-container docSidebarContainer_F5kt"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../../self-hosted.html">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="architecture.html">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="requirements.html">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="linux-vm.html">Linux VM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="docker.html">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="helm-charts.html">Helm Charts (k8s)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="heroku.html">Heroku</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="caprover.html">Caprover</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="cloudron.html">Cloudron</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="clevercloud.html">Clever Cloud</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Cloud provider guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="aws.html">Amazon Web Services (AWS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="aws-marketplace.html">AWS marketplace AMI </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="azure.html">Azure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="digital-ocean.html">DigitalOcean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="gcp.html">Google Cloud Platform (GCP)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Performance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="performance/cloudfront-cdn.html">Cloudfront CDN</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/environment-variables.html">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/email-notifications.html">Email templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/enable-ip-logging.html">Enable IP Logging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Monitoring</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../monitoring/super-admin-sidekiq.html">Super admin Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../monitoring/apm-and-error-monitoring.html">APM and Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../monitoring/rate-limiting.html">Rate Limiting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Email Channel</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/email-channel/conversation-continuity.html">Conversation Continuity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/email-channel/conversation-continuity-using-sendgrid.html">Sendgrid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/email-channel/setup.html">Channel Setup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/integrations/facebook-channel-setup.html">Facebook App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/integrations/instagram-channel-setup.html">Instagram App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/integrations/twitter-channel-setup.html">Twitter App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../configuration/features/integrations/slack-integration-setup.html">Slack App</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Storage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="storage/supported-providers.html">Supported Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="storage/s3-bucket.html">S3 bucket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="storage/gcs-bucket.html">GCS Bucket</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../telemetry.html">Others</a></div></li></ul></nav></div></aside><main class="docMainContainer_aAbH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Cloud provider guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Amazon Web Services (AWS)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AWS Chatwoot deployment guide</h1></header><p>The following is reference HA architecture guide for deploying Chatwoot on AWS. For a cloud native deployment, use our <a href="https://github.com/chatwoot/charts" target="_blank" rel="noopener noreferrer">helm charts</a> with AWS Elastic Kubernetes Service(EKS).</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>We will use the linux installation script to get a chatwoot instance up and running. Also instead of
relying on redis, postgres and nginx installed in the same ec2, we will proceed to make use
of managed aws services for the same viz Elasticache, RDS and ALB.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><ol><li>AWS account</li><li>Domain to use with Chatwoot</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="architecture">Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">​</a></h3><p>This guide will follow a standard 3-tier architecture on aws. </p><p><img loading="lazy" alt="aws-architecture" src="../../assets/images/aws-01-architecture-40389a862845dbe82cac939efe2569ed.png" width="2332" height="1438" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="network">Network<a class="hash-link" href="#network" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="create-vpc">Create VPC<a class="hash-link" href="#create-vpc" title="Direct link to heading">​</a></h3><ol><li>Sign into AWS console and pick the region you are going to deploy.</li><li>Navigate to the VPC console and create a new vpc for chatwoot. At the <code>name</code> tag, enter
<code>chatwoot-vpc</code> and use the CIDR block <code>10.0.0.0/16</code>.</li><li>Leave the rest of the options as default and click on <code>Create VPC</code>.</li></ol><p><img loading="lazy" alt="aws-create-vpc" src="../../assets/images/aws-02-create-vpc-6d71e8d0829e65e789541b3fb208bc83.png" width="891" height="1145" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="subnets">Subnets<a class="hash-link" href="#subnets" title="Direct link to heading">​</a></h3><p>Create two public and private subnets in the vpc we created. Make sure to have then in different AZ&#x27;s and have non-overlapping CIDR ranges.</p><ol><li><p>Navigate to VPC &gt; Subnets.</p></li><li><p>Click on <code>Create Subnet</code>. Select the <code>chatwoot-vpc</code> we created before, name it as <code>chatwoot-public-1</code>, select an availability zone (for example, ap-south-1a) and the CIDR block as
<code>10.0.0.0/24</code>.
<img loading="lazy" alt="aws-create-subnet" src="../../assets/images/aws-03-create-subnet-bfcb3c5cc29d51128f1e788f5826bd18.png" width="1265" height="1330" class="img_E7b_"></p></li><li><p>Follow the same to create the remaining subnets.</p></li></ol><table><thead><tr><th>Name</th><th>Type</th><th>Availability Zone</th><th>CIDR Block</th></tr></thead><tbody><tr><td><code>chatwoot-public-1</code></td><td>public</td><td><code>ap-south-1a</code></td><td><code>10.0.0.0/24</code></td></tr><tr><td><code>chatwoot-public-2</code></td><td>public</td><td><code>ap-south-1b</code></td><td><code>10.0.1.0/24</code></td></tr><tr><td><code>chatwoot-private-1</code></td><td>private</td><td><code>ap-south-1a</code></td><td><code>10.0.2.0/24</code></td></tr><tr><td><code>chatwoot-private-2</code></td><td>private</td><td><code>ap-south-1b</code></td><td><code>10.0.3.0/24</code></td></tr></tbody></table><ol start="4"><li>After creating all subnets, enable <code>auto assign public ipv4 address</code> for public subnets under <code>Actions</code> &gt; <code>Subnet Settings</code>.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="internet-gateway">Internet Gateway<a class="hash-link" href="#internet-gateway" title="Direct link to heading">​</a></h3><ol><li>Select  <code>Create Internet Gateway</code> , name it as <code>chatwoot-igw</code> and click create.</li><li>Select it from the internet gateways list, choose actions and then select <code>Attach to VPC</code>.</li><li>Choose <code>chatwoot-vpc</code> and click attach.</li></ol><p><img loading="lazy" alt="aws-create-igw" src="../../assets/images/aws-04-create-igw-8e5c9f136d5ab5a7dacb7aa7bb5bc590.png" width="887" height="442" class="img_E7b_"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="nat-gateway">NAT Gateway<a class="hash-link" href="#nat-gateway" title="Direct link to heading">​</a></h3><p>Chatwoot app servers will be deployed in the private subnet. For them to access internet, we need to add NAT gateways to our public subnet and add a route from the private subnets.</p><ol><li><p>Navigate the VPC dashboard and select <code>NAT gateways</code>.</p></li><li><p>Click <code>Create NAT Gateway</code>.</p><ol><li>Name it as <code>chatwoot-nat-1</code>.</li><li>Select the <code>chatwoot-public-1</code> subnet.</li><li>Click on <code>Allocate Elastic IP</code>.</li><li>Add additional tags as per your need.</li><li>Click <code>Create NAT gateway</code>.</li></ol></li></ol><p><img loading="lazy" alt="aws-create-nat" src="../../assets/images/aws-05-create-nat-1964ee8ae24f4f0db3f8a1b0a8a7d88a.png" width="892" height="981" class="img_E7b_"></p><ol start="3"><li>Follow the same to create a second NAT gateway (<code>chatwoot-nat-2</code>) and choose the <code>chatwoot-public-2</code> subnet.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="route-tables">Route tables<a class="hash-link" href="#route-tables" title="Direct link to heading">​</a></h3><p>Route table controls the inbound and outbound access for a subnet.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="public-route-table">Public Route table<a class="hash-link" href="#public-route-table" title="Direct link to heading">​</a></h4><p>We will create route tables so that our public subnets can reach the internet via the Internet gateway.</p><p>Navigate to the VPC dashboard and select <code>Route Tables</code>.</p><ol><li>Click <code>Create route table</code>.</li><li>Use the name <code>chatwoot-public-rt</code> and choose the <code>chatwoot-vpc</code> under VPC.</li><li>Click <code>Create</code>.</li></ol><p><img loading="lazy" alt="aws-create-rt" src="../../assets/images/aws-06-create-rt-465fdfb8058ffcc4cc3370823bc9b0eb.png" width="942" height="768" class="img_E7b_"></p><p>Next, we need to add a route to the internet gateway we created earlier(<code>chatwoot-igw</code>).</p><ol><li>Select the <code>chatwoot-public-rt</code> route table from the list and click on <code>Edit routes</code> &gt; <code>Add Route</code>.</li><li>Set the destination as <code>0.0.0.0/0</code> and choose the target as <code>chatwoot-igw</code>. Click on <code>Save Changes</code>.</li></ol><p>Also,</p><ol><li>Select the <code>chatwoot-public-rt</code> route table from the list and click on <code>Subnet Associations</code> &gt; <code>Edit subnet associations</code>.</li><li>Select both the public subnets(<code>chatwoot-public-1</code>,<code>chatwoot-public-2</code>) and click <code>save</code>.</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="private-route-table">Private Route table<a class="hash-link" href="#private-route-table" title="Direct link to heading">​</a></h4><p>We will also create private route tables so that our private subnets can reach the internet via the NAT gateways.</p><ol><li>Follow the above guide and create two private route tables namely, <code>chatwoot-private-a</code> and <code>chatwoot-private-b</code>.</li><li>Select the route tables one by one and add a route to the NAT gateway in their respective availability zone.<ol><li>For <code>chatwoot-private-a</code>, add a route to <code>0.0.0.0/0</code> and target as <code>chatwoot-nat-1</code>.</li><li>For <code>chatwoot-private-b</code>, add a route to <code>0.0.0.0/0</code> and target as <code>chatwoot-nat-2</code>.</li></ol></li></ol><p>Also,</p><ol><li>Associate the private route tables with corresponding private subnets.<ol><li>For <code>chatwoot-private-a</code>, associate <code>chatwoot-private-1</code> subnet.</li><li>For <code>chatwoot-private-b</code>, associate <code>chatwoot-private-2</code> subnet.</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="application-load-balancer-alb">Application Load Balancer (ALB)<a class="hash-link" href="#application-load-balancer-alb" title="Direct link to heading">​</a></h2><p>Create an application load balancer to recieve traffic on port 80 and 443, and distribute it across Chatwoot instances. </p><ol><li>Navigate to the EC2 section and choose Load Balancer section.</li><li>Click <code>Create Load Balancer</code>.<ol><li>Choose <code>Application Load Balancer</code>.</li><li>For the loadbalancer name, use <code>chatwoot-loadbalancer</code>.</li><li>Select the scheme as <code>internet-facing</code> and IP address type as <code>IPv4</code>.</li><li>For the network mapping section,<ol><li>Select the <code>chatwoot-vpc</code>.</li><li>Select both the public subnets <code>chatwoot-public-1</code> and <code>chatwoot-public-2</code> under mapping section.</li></ol></li><li>For the Security group section,<ol><li>Create a new security group, <code>chatwoot-loadbalancer-sg</code>.</li><li>Add rules to allow HTTP and HTTPS traffic from anywhere(<code>0.0.0.0/0</code>, <code>::/0</code>).</li><li>Also add rules to allow SSH traffic.</li></ol></li><li>For Listeners and routing section, create two listeners for both 80 and 443.<ol><li>Also create a target group, <code>chatwoot-tg</code> that will forward the requests to port <code>3000</code>(Chatwoot listens on this port).</li><li>Add a health check to the endpoint <code>/api</code>. This endpoint is not authenticated and should return the application version.</li></ol></li></ol></li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;version&quot;: &quot;1.22.1&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;timestamp&quot;: &quot;2021-12-06 16:07:39&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="7"><li>Add any necessary tags and click create.</li></ol><p>Also, add if you have your domain on Route53 and use ACM to generate a certifcate to use with ALB.</p><p>//TODO: expand more on the ACM part</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="postgresql-using-aws-rds">Postgresql using AWS RDS<a class="hash-link" href="#postgresql-using-aws-rds" title="Direct link to heading">​</a></h2><p>//TODO: expand rds section</p><p>Chatwoot uses Postgres as a DB layer and we will make use of Amazon RDS with a multi AZ option for reliablity.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="rds-security-group">RDS security group<a class="hash-link" href="#rds-security-group" title="Direct link to heading">​</a></h3><ol><li>Navigate to EC2 &gt; Security groups and create a new sg.</li><li>Name it, <code>chatwoot-rds-sg</code>.</li><li>Select the <code>chatwoot-vpc</code> and add an inbound rule for postgres port with source <code>chatwoot-loadbalancer-sg</code>.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="rds-subnet-group">RDS subnet group<a class="hash-link" href="#rds-subnet-group" title="Direct link to heading">​</a></h3><ol><li>Navigate to RDS section and select subnet groups.</li><li>Create <code>chatwoot-rds-group</code> and choose <code>chatwoot-vpc</code>.</li><li>Select both az&#x27;s and the private subnets.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="rds">RDS<a class="hash-link" href="#rds" title="Direct link to heading">​</a></h3><ol><li>Select create database.</li><li>Use standard create and choose the postgres engine.</li><li>Use the production template, create a postgres master username and password.</li><li>Enable Multi-AZ deployment.</li><li>Select <code>chatwoot-vpc</code> and selecte the rds security group we created earlier.</li><li>Enable password authentication.</li><li>Click create.</li><li>After the create is complete, note down the hostname, username and password. We will need this to configure Chatwoot.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="redis-using-aws-elasticache">Redis using AWS Elasticache<a class="hash-link" href="#redis-using-aws-elasticache" title="Direct link to heading">​</a></h2><p>//TODO: expand redis section</p><ol><li>Follow similar steps like the rds to create a redis security group and subnet group.</li><li>Create the redis cluster with multi-AZ option.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="creating-bastion-servers">Creating Bastion servers<a class="hash-link" href="#creating-bastion-servers" title="Direct link to heading">​</a></h2><p>Create bastion servers in both public subnets. These servers will be used to ssh into chatwoots servers in private subnets.</p><ol><li>Navigate to EC2 dashboard and click launch instance.</li><li>Use an <code>Ubuntu 20.04 image</code> with a <code>t3.micro</code> type.</li><li>Choose <code>chatwoot-vpc</code> and subnet <code>chatwoot-public-1</code>.</li><li>Name it as <code>chatwoot-bastion-a</code>.</li><li>Add a new sg, <code>chatwoot-bastion-sg</code> and enable ssh access from anywhere.</li><li>Leave the rest as defaults and click launch.</li><li>Once the instance is up, try to SSH into the instance.</li></ol><p>Repeat the same and create another bastion, <code>chatwoot-bastion-b</code> in the other AZ.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="install-chatwoot">Install Chatwoot<a class="hash-link" href="#install-chatwoot" title="Direct link to heading">​</a></h2><ol><li>Navigate to EC2 section, and click on launch instance.</li><li>Use an <code>Ubuntu 20.04 image</code> with a <code>c5.xlarge</code> instance type.</li><li>Choose the chatwoot-vpc and select the private subnet <code>chatwoot-private-1</code>.</li><li>Disable auto assign public IP and increase the storage of root vo lume to 60 GB.</li><li>Add necessary tags. Set the <code>Name</code> tag to <code>chatwoot</code>.</li><li>Select the loadbalancer security group and click launch.</li><li>SSH into the bastion server and from there, ssh to the chatwoot instance we created.</li><li>Switch to <code>root</code> user.</li><li>Download the chatwoot linux installation script.</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">wget https://raw.githubusercontent.com/chatwoot/chatwoot/master/deployment/setup_20.04.sh -O setup.sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod 755 setup.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="10"><li>Modify it remove the postgres, redis, letsencrypt and nginx section.</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">vi setup.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="11"><li><p>Run the script.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./setup.sh master</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="configure-chatwoot">Configure Chatwoot<a class="hash-link" href="#configure-chatwoot" title="Direct link to heading">​</a></h2><p>// TODO: Expand with S3 for active storage and SES for Email.</p><ol start="12"><li>Once the installation is complete, switch to the chatwoot user and navigate to the chatwoot folder. Edit the .env file and replace the postgres and redis credentials with RDS and elasticache values.</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo -i -u chatwoot</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd chatwoot</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vi .env</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="13"><li>Run the db migration.</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#bfc7d5;background-color:#292d3e"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">RAILS_ENV=production bundle exec rake db:prepare</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="14"><li>Also modify the other necessary environment variable for your chatwoot setup. Refer to <a href="linux-vm.html#configure-the-required-environment-variables" target="_blank" rel="noopener noreferrer">https://www.chatwoot.com/docs/self-hosted/deployment/linux-vm#configure-the-required-environment-variables</a></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="verify-login">Verify login<a class="hash-link" href="#verify-login" title="Direct link to heading">​</a></h2><ol start="15"><li>Add this instance to the target group attached to the alb.</li><li>Navigate to the your chatwoot domain to see if everything is working. </li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="create-custom-ami">Create custom AMI<a class="hash-link" href="#create-custom-ami" title="Direct link to heading">​</a></h2><ol><li>If you are getting the onboarding page, complete the sign up and verify the installation.</li><li>Voila !! Your chatwoot instance is up.</li><li>If everything looks good, proceed to create an ami from this instance and name it as <code>chatwoot-base-ami</code>.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="auto-scaling-groups-asg">Auto Scaling Groups (ASG)<a class="hash-link" href="#auto-scaling-groups-asg" title="Direct link to heading">​</a></h2><ol><li>Create a launch configuration using the above base image.</li><li>Proceed to create an auto-scaling group from this launch config.</li><li>Set the minimum and desired capcity to 2 and maximum to 4. Modify this as per your requirement.</li><li>Create a scaling policy based on the CPU Utlization.</li><li>At this point, we are good to terminate the instance we created earlier.</li><li>Check the loadbalancer or target-group to verify if two new chatwoot instances have come up.</li><li>That&#x27;s it. </li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">​</a></h2><ol><li>Refer to <a href="../monitoring/apm-and-error-monitoring.html" target="_blank" rel="noopener noreferrer">https://www.chatwoot.com/docs/self-hosted/monitoring/apm-and-error-monitoring</a></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="updating-chatwoot">Updating Chatwoot<a class="hash-link" href="#updating-chatwoot" title="Direct link to heading">​</a></h2><ol><li>Login to one of the application servers and complete the update instructions. Run migrations if needed. Refer to <a href="linux-vm.html#upgrading-to-a-newer-version-of-chatwoot" target="_blank" rel="noopener noreferrer">https://www.chatwoot.com/docs/self-hosted/deployment/linux-vm#upgrading-to-a-newer-version-of-chatwoot</a></li><li>Create a new ami and update the launch config.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h2><p>This is a reference guideline to have an HA chatwoot architecture on AWS. Modify or build upon this to suit your requirements.</p></div><footer><div class="doc-page--footer--edit"><div><a href="https://github.com/chatwoot/docs/edit/main/docs/self-hosted/deployment/aws.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-12-06T18:19:53.000Z">12/6/2021</time></b> by <b>Vishnu Narayanan</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="clevercloud.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Clever Cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="aws-marketplace.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS marketplace AMI </div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li></ul></li><li><a href="#network" class="table-of-contents__link toc-highlight">Network</a><ul><li><a href="#create-vpc" class="table-of-contents__link toc-highlight">Create VPC</a></li><li><a href="#subnets" class="table-of-contents__link toc-highlight">Subnets</a></li><li><a href="#internet-gateway" class="table-of-contents__link toc-highlight">Internet Gateway</a></li><li><a href="#nat-gateway" class="table-of-contents__link toc-highlight">NAT Gateway</a></li><li><a href="#route-tables" class="table-of-contents__link toc-highlight">Route tables</a></li></ul></li><li><a href="#application-load-balancer-alb" class="table-of-contents__link toc-highlight">Application Load Balancer (ALB)</a></li><li><a href="#postgresql-using-aws-rds" class="table-of-contents__link toc-highlight">Postgresql using AWS RDS</a><ul><li><a href="#rds-security-group" class="table-of-contents__link toc-highlight">RDS security group</a></li><li><a href="#rds-subnet-group" class="table-of-contents__link toc-highlight">RDS subnet group</a></li><li><a href="#rds" class="table-of-contents__link toc-highlight">RDS</a></li></ul></li><li><a href="#redis-using-aws-elasticache" class="table-of-contents__link toc-highlight">Redis using AWS Elasticache</a></li><li><a href="#creating-bastion-servers" class="table-of-contents__link toc-highlight">Creating Bastion servers</a></li><li><a href="#install-chatwoot" class="table-of-contents__link toc-highlight">Install Chatwoot</a></li><li><a href="#configure-chatwoot" class="table-of-contents__link toc-highlight">Configure Chatwoot</a></li><li><a href="#verify-login" class="table-of-contents__link toc-highlight">Verify login</a></li><li><a href="#create-custom-ami" class="table-of-contents__link toc-highlight">Create custom AMI</a></li><li><a href="#auto-scaling-groups-asg" class="table-of-contents__link toc-highlight">Auto Scaling Groups (ASG)</a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Monitoring</a></li><li><a href="#updating-chatwoot" class="table-of-contents__link toc-highlight">Updating Chatwoot</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div>
<script src="../../assets/js/runtime_main.4fc0849a.js"></script>
<script src="../../assets/js/main.f0cac5f2.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-96794837-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-96794837-1');
</script>

<script async defer>
  window.chatwootSettings = {
    locale: 'en',
    type: 'expanded_bubble'
  };
  (function(d,t) {
    var BASE_URL="https://app.chatwoot.com/";
    var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=BASE_URL+"/packs/js/sdk.js";
    g.async=!0;
    s.parentNode.insertBefore(g,s);
    g.onload=function(){
      window.chatwootSDK.run({
        websiteToken: '4cWzuf9i9jxN9tbnv8K9STKU',
        baseUrl: BASE_URL
      })
    }
  })(document,"script");
</script><script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('5c492NqumLiFitV5IhhrVq_AAU78oElC1Cruh5fjvTE',{api_host:'https://posthog.chatwoot.com'})
</script><style>

@font-face {
	font-family: 'MetroSans';
	src: url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.eot');
	src: url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.eot?#iefix') format('embedded-opentype'),
             url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.woff2') format('woff2'),
	     url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.woff') format('woff'),
	     url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.ttf') format('truetype'),
	     url('https://d1j5ayohogpcd2.cloudfront.net/fonts/metro-sans/metro-sans-regular/metro-sans-regular.svg#youworkforthem') format('svg');
	font-weight: normal;
	font-style: normal;
  font-display: swap;
}

@font-face {
	font-family: 'Gilroy';
	src: url('https://d1j5ayohogpcd2.cloudfront.net/fonts/gilroy/Gilroy-SemiBold/font.woff2') format('woff2'),
	     url('https://d1j5ayohogpcd2.cloudfront.net/fonts/gilroy/Gilroy-SemiBold/font.woff') format('woff');
	font-weight: 600;
  font-display: swap;
}

:root {
  --ifm-heading-family-base: Gilroy, 'Helvetica Neue', Helvetica, -apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  --ifm-font-family-base: MetroSans, 'Helvetica Neue', Helvetica, -apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}

.markdown {
  padding: 1rem 2.4rem;
}

@media screen and (max-width: 997px) {
  .markdown {
    padding: 0.8rem;
  }
}
</style></body>

<!-- Mirrored from www.chatwoot.com/docs/self-hosted/deployment/aws by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 May 2022 12:27:39 GMT -->
</html>